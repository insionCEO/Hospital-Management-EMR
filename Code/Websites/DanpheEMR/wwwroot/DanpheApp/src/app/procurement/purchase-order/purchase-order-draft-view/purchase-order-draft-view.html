<style>
    .printStyle {
        border: dotted 1px;
        margin: 10px 100px;
    }

    .print-border-top {
        border-top: dotted 1px;
    }

    .print-border-bottom {
        border-bottom: dotted 1px;
    }

    .print-border {
        border: dotted 1px;
    }

    .center-style {
        text-align: center;
    }

    .border-up-down {
        border-top: dotted 1px;
        border-bottom: dotted 1px;
    }

    .qr-code {
        position: relative;
        left: 70px;
        top: 3px;
    }

    @media print {
        .qr-code {
            left: 70px;
        }
    }

    table {
        /* border: 1px solid #000; */
        border-collapse: collapse;
        width: 100%;
        margin-bottom: 15px;
        font-size: 12px;
    }

    table tr td,
    table tr th {
        /* border: 1px solid #000; */
        padding: 1px;
        height: 15px;
    }

    .logo {
        height: 80px;
        display: flex;
        justify-content: center;
        flex-direction: column;
    }

    .img-responsive {
        position: static;
        width: 100%;
    }
</style>

<div class="popup-static portlet box portlet-fullscreen inv_modal">
    <div class="portlet-body form">
        <div class="row">
            <div class="col-md-10 col-md-offset-1">
                <div class="modelbox-div clearfix">
                    <div class="caption lb-caption">
                        <a class="btn btn-danger" (click)="ClosePurchaseOrderDraftViewPage()" title="Cancel"><i class="fa fa-times"></i></a>
                    </div>
                    <div id="printpage" class="row printStyle print-border">
                        <div class="row" style="margin-bottom: 10px">
                            <div class="logo" style="width: 18%; padding: 0px 20px 0px 20px; float: left">
                                <img class="img-responsive" style="max-height: 70px" src="../../../themes/theme-default/images/hospital-logo.PNG" />
                            </div>
                            <div style="width: 64%; float: left; padding-bottom: 0px" *ngIf="headerDetail">
                                <div class="text-center bill-head" style=" text-align: center; font-family: sans-serif; margin-top: 10px;">
                                    <span style="font-size: 20px"><strong>{{ headerDetail.hospitalName }}</strong></span><br />
                                    <span style="font-size: 18px">{{ headerDetail.address }}</span><br />
                                    <span style="font-size: 16px">{{GeneralFieldLabel.PANNo}}: {{ headerDetail.PANno }} , Tel:
                                        {{ headerDetail.tel }}</span><br />
                                    <span style="font-size: 16px"><strong> Procurement Unit </strong></span><br />
                                </div>
                            </div>
                            <div style="float: left">
                                <div class="qr-code">
                                    <qr-code [size]="75" [backgroundAlpha]="0"></qr-code>
                                </div>
                            </div>
                            <!--Billing Header-->
                            <div style="clear: left"></div>
                        </div>
                        <table width="100%" style="border: 1px solid #ccc;">
                            <tr>
                                <td colspan="3" style="text-align: center; text-transform: uppercase; padding: 0 5px;"> <strong
                                            style="font-weight: bold; font-size: 18px;">PURCHASE ORDER DRAFT</strong>
                                </td>
                            </tr>
                        </table>
                        <table>
                            <tr>
                                <td style="padding: 0 5px;"><b>PODraft No. :</b></td>
                                <td style="padding: 0 5px;"><b>{{purchaseorderDraft.DraftPurchaseOrderNo}}</b></td>
                                <td style="padding: 0 5px;"><b>PO Date :</b></td>
                                <td style="padding: 0 5px;"><b>{{purchaseorderDraft.CreatedOn | date : 'yyyy-MM-dd'}}</b></td>
                            </tr>
                            <tr>
                                <td style="padding: 0 5px;"><b>Vendor's Name :</b></td>
                                <td style="padding: 0 5px;" colspan="3">{{purchaseorderDraft.VendorName}}</td>

                            </tr>
                            <tr>
                                <td style="padding: 0 5px;"><b>{{GeneralFieldLabel.PANNo}} :</b></td>
                                <td style="padding: 0 5px;" colspan="1">{{purchaseorderDraft.VendorPANNumber}}</td>

                            </tr>
                            <tr>
                                <td style="padding: 0 5px;"><b>Address :</b></td>
                                <td style="padding: 0 5px;" colspan="1">{{purchaseorderDraft.VendorAddress}}</td>
                            </tr>
                            <tr>
                                <td style="padding: 0 5px;"><b>Contact /Mobile Number :</b></td>
                                <td style="padding: 0 5px;">{{purchaseorderDraft.VendorContact}}</td>
                                <td style="padding: 0 5px;"><b>Currency :</b></td>
                                <td style="padding: 0 5px;">{{purchaseorderDraft.CurrencyCode}}</td>
                            </tr>
                            <tr>
                                <th style="padding: 0 5px;">Invoicing Address :</th>
                                <td style="padding: 0 5px;white-space: pre-line; text-align: left;">{{purchaseorderDraft.InvoicingAddress}}</td>
                                <th style="padding: 0 5px;"><b>Reference No:</b></th>
                                <td style="padding: 0 5px;white-space: pre-line; text-align: left;">{{purchaseorderDraft.ReferenceNo}}</td>

                            </tr>
                            <tr>
                                <th style="padding: 0 5px;">Delivery Address :</th>
                                <td style="padding: 0 5px;white-space: pre-line; text-align: left;">{{purchaseorderDraft.DeliveryAddress}}</td>
                                <th>Contact Person Name and<br> Office Email :</th>
                                <td style="padding: 0 5px;">{{purchaseorderDraft.ContactPersonName}}<br>{{purchaseorderDraft.ContactPersonEmail}}</td>
                            </tr>
                        </table>
                        <table style="width: 100%;">
                            <tr>
                                <td style="padding: 0 5px;" colspan="4">We are pleased to place this order for below mentioned materials to your above
                                    stated company/firm.
                                </td>
                            </tr>
                            <tr>
                                <td style="padding: 0" colspan="4">
                                    <table style="width: 100%; margin: 0;">
                                        <tr style="text-align: center;">
                                            <th style="padding: 0 5px;"><b>SN</b></th>
                                            <th style="padding: 0 5px;"><b> Code</b></th>
                                            <th style="padding: 0 5px;"><b>Item Name</b></th>
                                            <th style="padding: 0 5px;"><b>Order Quantity</b></th>
                                            <th style="padding: 0 5px;"><b>UOM</b></th>
                                            <th style="padding: 0 5px;"><b>Standard Rate</b></th>
                                            <th style="padding: 0 5px;"><b>Vat %</b></th>
                                            <th style="padding: 0 5px;"><b>Total Amount</b></th>
                                        </tr>
                                        <tr style="text-align: center;"
                                            *ngFor="let row of purchaseorderDraft.PurchaseOrderDraftItems; let i = index ">
                                            <td style="padding: 0 5px;">{{i+1}}</td>
                                            <td style="padding: 0 5px;">{{row.Code}}</td>
                                            <td style="padding: 0 5px;">{{row.ItemName}}</td>
                                            <td style="padding: 0 5px;">{{row.Quantity}}</td>
                                            <td style="padding: 0 5px;">{{row.UOMName}}</td>
                                            <td style="padding: 0 5px;">{{row.ItemRate }}</td>
                                            <td style="padding: 0 5px;">{{row.VATPercentage}}</td>
                                            <td style="padding: 0 5px;">{{row.TotalAmount }}</td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 0 5px; text-align: center;" class="text-capitalize" colspan="3" rowspan="4">Total
                                                Amount In Words:&nbsp;({{purchaseorderDraft.CurrencyCode}})&nbsp;{{purchaseorderDraft.TotalAmount |
                                                NumberInWords }}Only. </td>
                                        </tr>
                                        <tr>
                                            <td style="padding: 0 20px;" colspan="4">&nbsp; <b>Sub Total</b></td>
                                            <td style="padding: 0 5px; text-align: center;"><b>{{purchaseorderDraft.SubTotal | number: "1.2-2"}}</b>
                                        </tr>
                                        <tr>
                                            <td style="padding: 0 20px;" colspan="4">&nbsp; <b>VAT Amount</b></td>
                                            <td style="padding: 0 5px; text-align: center;"><b>{{purchaseorderDraft.VATAmount | number: "1.2-4"}}</b>
                                        </tr>
                                        <tr>
                                            <td style="padding: 0 20px;" colspan="4">&nbsp; <b>Total
                                                    Amount</b>&nbsp;&nbsp;({{purchaseorderDraft.CurrencyCode}})</td>
                                            <td style="padding: 0 5px; text-align: center;"><b>{{purchaseorderDraft.TotalAmount | number:
                                                    "1.2-2"}}</b>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                        </table>
                        <div class="pagebreak"> </div>
                        <table style="width: 100%;">
                            <tr>
                                <td style="padding: 0 5px; text-align: left;">
                                    <strong style="font-weight: bold;"> Generated By:</strong>
                                </td>
                            </tr>

                        </table>
                        <div class="panel-footer" style="background:transparent">
                            <div style="display: flex; justify-content: center;">Note:This is computer generated Purchase Order signature not
                                required.
                            </div>
                        </div>
                    </div>
                    <div class="row center-style">
                        <div class="col-md-12 col-xs-12" *ngIf="purchaseorderDraft != null">
                            <a class="btn btn-danger" (click)="OpenWidthDrawPopUp()" *ngIf="purchaseorderDraft.IsModificationAllowed == true">
                                Withdraw
                                <i class="glyphicon glyphicon-floppy-remove"></i> </a><span> </span><span> </span> &nbsp;
                            <a (click)="EditPurchaseOrder(purchaseorderDraft.Status)" class="btn btn-warning"
                               *ngIf="purchaseorderDraft.IsModificationAllowed == true">
                                Edit
                                <i class="glyphicon glyphicon-edit"></i> </a><span> </span><span> </span> &nbsp;
                            <a (click)="CopyToPurchaseOrder()" class="btn btn-warning"
                               *ngIf="purchaseorderDraft.IsModificationAllowed == true">
                                Copy To Po
                                <i class="glyphicon glyphicon-edit"></i> </a><span> </span><span> </span> &nbsp;
                        </div>
                    </div>
                    <!-- Discard Purchase Order Draft Popup -->
                    <div class="popup-static portlet box portlet-fullscreen inv_modal" *ngIf="showPurchaseOrderDraftDiscardPopup">
                        <div class="portlet-body form">
                            <div class="row">
                                <div class="col-md-8 col-md-offset-2">
                                    <div class="modelbox-div clearfix">
                                        <div class="caption lb-caption">
                                            <h3>
                                                <span class="caption-subject">Discard PO Draft</span>
                                            </h3>
                                            <a class="btn btn-danger" (click)="CloseDiscardPopUP()" title="Cancel"><i class="fa fa-times"></i></a>
                                        </div>
                                        <div class="col-md-12" style="margin-bottom: 10px;">
                                            <span>Vendor</span>:&nbsp;{{purchaseorderDraft.VendorName}}
                                        </div>
                                        <div class="col-md-12" style="margin-bottom: 10px;">
                                            <div class="row">
                                                <div class="col-md-5">
                                                    <span>Draft Created By</span>:&nbsp; {{purchaseorderDraft.DraftCreatedBy}}
                                                </div>
                                                <div class="col-md-6">
                                                    <span>Draft Created On</span> :&nbsp; {{purchaseorderDraft.CreatedOn}}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12" style="margin-bottom: 10px;">
                                            <div class="row">
                                                <label class="col-md-2">Discard Remarks <sup style="color: red">*</sup>:</label>
                                                <div class="col-md-6">
                                                    <textarea type="text" class="form-control" name="cancelRemarks"
                                                              [(ngModel)]="purchaseorderDraft.DiscardRemarks"
                                                              rows="5"></textarea>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-default btn btn-danger" data-dismiss="modal"
                                                    [disabled]="purchaseorderDraft.DiscardRemarks === ''"
                                                    (click)="WithdrawPODraft(purchaseorderDraft.DraftPurchaseOrderId)">
                                                Discard Draft
                                            </button>
                                            <button type="button" class="btn btn-default btn btn-success" data-dismiss="modal"
                                                    (click)="CloseDiscardPopUP()">
                                                Cancel
                                            </button>
                                        </div>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <purchase-order-draft-add *ngIf="showPurchaseOrderDraftAddEditPage"
                                              (call-back-close)="ClosePurchaseOrderDraftAddEditPage()"></purchase-order-draft-add>

                </div>
            </div>
        </div>
    </div>
</div>