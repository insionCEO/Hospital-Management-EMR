<style>
    .left-panel {
        width: 100%;
        /*	margin: 0 0 15px 0;*/
        background-color: #fffbdd;
        padding: 0 0 0 0;
        margin-bottom: 15px;
    }

    .left-panel .panel-heading {
        border-bottom: 1px solid #f7f3d7;
        background-color: #fff7bf;
    }

    .left-panel .patient-hdr-label {
        background-color: transparent;
        width: 100%;
    }

    .doc-pagecontent .form-body,
    .doc-pagecontent .form-body:focus {
        outline: none;
    }

    .doc-pagecontent .form-body {
        background-color: transparent;
    }

    .investigation-panel table tr td .btn {
        padding: 0;
    }

    .left-panel .panel-heading {
        margin: 0;
    }

    .investigation-panel {
        padding: 15px !important;
    }

    .show-report-btn {
        padding: 10px 0;
    }

    .show-report-btn input[type=checkbox],
    .show-report-btn input[type=radio] {
        margin: 0 2px;
        vertical-align: middle;
    }

    .textarea {
        border: 1px solid #ccc;
        font-family: inherit;
        font-size: inherit;
        padding: 1px 6px;
        display: block;
        width: 100%;
        overflow: hidden;
        resize: both;
        min-height: 60px;
        line-height: 20px;
        border-radius: 3px !important;
    }

    .right-panel .row {
        margin: 0 -5px;
    }

    .right-panel div[class*="col-"] {
        padding: 0 5px !important;
    }

    .form-horizontal .form-group {
        margin-left: -5px;
        margin-right: -5px;
    }

    .right-panel textarea.form-control {
        min-height: 70px;
        max-width: 100%;
        width: 100%;
        resize: both;
        /* height: auto !important; */
    }

    /* .textarea {
  display: block;
  width: 100%;
  overflow: hidden;
  resize: both;
  min-height: 40px;
  line-height: 20px;
}

.textarea[contenteditable]:empty::before {
  content: "Placeholder still possible";
  color: gray;
} */

    .investigation-panel table tr td {
        padding: 3px 5px;
    }

    .right-panel .control-label {
        padding-left: 10px;
        text-align: left;
    }

    .modelbox-div ul {
        padding: 0;
    }

    .modelbox-div ul ul {
        padding: 0 15px;
    }

    .modelbox-div ul li {
        list-style: none;
    }

    .modelbox-div ul li label {
        width: 100%;
    }

    .modelbox-div ul li label input {
        float: right;
        margin: 0;
    }
</style>
<!--Show SummaryView Start-->
<!-- <div *ngIf="showSummaryView"><discharge-summary-view [selectedADT]="selectedDischarge" [showSummaryView]="showSummaryView"  (EditRecordEvent)='IsEditMode($event)'></discharge-summary-view></div>-->
<!--Show SummaryView End-->
<!--Show DischargeSummaryAdd Start-->
<div *ngIf="showDischargeSummary" tabindex="1" [@enterAnimation]>
    <form [formGroup]="CurrentDischargeSummary.DischargeSummaryValidator"
          class="form-horizontal danphe_horizontal_form">
        <div class="form-body no-padding">
            <div *ngIf="!fromClinical">
                <div class="left-panel">
                    <div class="">
                        <h1 class="panel-heading">
                            <i class="fa fa-user"></i>{{selectedDischarge?.Name}}
                            <label>{{selectedDischarge?.DateOfBirth | DanpheDateTime:'age'
                                }}/{{selectedDischarge?.Gender}}</label>
                            <span>({{selectedDischarge?.PatientCode}})</span>
                        </h1>
                        <div class="col-md-12">
                            <div class="row">
                                <div class="col-md-4">
                                    <p class="patient-hdr-label">
                                        <b>Address</b>&nbsp;: {{selectedDischarge?.Address}}
                                    </p>
                                </div>
                                <div class="col-md-4">
                                    <p class="patient-hdr-label">
                                        <b>Contact No</b>&nbsp;: {{selectedDischarge?.PhoneNumber}}
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-4">
                                <p class="patient-hdr-label">
                                    <b>Hospital No</b>&nbsp;: {{selectedDischarge?.PatientCode}}
                                </p>
                            </div>
                            <div class="col-md-4">
                                <p class="patient-hdr-label">
                                    <b>InPatient No</b>&nbsp;: {{selectedDischarge?.VisitCode}}
                                </p>
                            </div>
                            <div class="col-md-4">
                                <p class="patient-hdr-label">
                                    <b>Guardian</b>&nbsp;: {{selectedDischarge?.GuardianName}} |
                                    <span>{{selectedDischarge?.GuardianRelation}}</span>
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col-md-4">
                                <p class="patient-hdr-label">
                                    <b> Admitted On </b>&nbsp;:&nbsp;{{selectedDischarge?.AdmittedDate |
                                    DanpheDateTime:'format':'YYYY-MM-DD HH:mm' }} AD &nbsp;
                                    <strong>({{selectedDischarge?.AdmittedDate | nepaliDate}})</strong>
                                </p>
                            </div>
                            <div class="col-md-4">
                                <p *ngIf="selectedDischarge.ModuleName != 'emergency'" class="patient-hdr-label">
                                    <b>Ward</b>&nbsp;: {{selectedDischarge.BedInformation?.Ward}}
                                </p>
                            </div>
                            <div class="col-md-4">
                                <p *ngIf="selectedDischarge.ModuleName != 'emergency'" class="patient-hdr-label">
                                    <b>Bed Number</b>&nbsp;: {{selectedDischarge?.BedInformation?.BedNumber}}
                                </p>
                            </div>
                            <div class="col-md-4">
                                <p class="patient-hdr-label">
                                    <b> Discharged On </b> &nbsp;:&nbsp;
                                    <ng-container *ngIf="selectedDischarge?.DischargedDate">
                                        {{ selectedDischarge?.DischargedDate | DanpheDateTime:'format':'YYYY-MM-DD HH:mm' }} AD &nbsp;
                                        <strong>({{ selectedDischarge?.DischargedDate | nepaliDate }})</strong>
                                    </ng-container>
                                </p>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <div *ngIf="dischargeSummaryTemplates && dischargeSummaryTemplates.length">
                <label for="dropdown">Select Template:</label>
                <select (change)="OnTemplateSelected()" [(ngModel)]="selectedTemplateObj"
                        [ngModelOptions]="{standalone: true}">
                    <option disabled>Select template</option>
                    <option [ngValue]="option" *ngFor="let option of dischargeSummaryTemplates">{{option.TemplateName}}
                    </option>
                </select>

            </div>

            <div [ngClass]="fromClinical?dischargeSummaryClassObj.col12:dischargeSummaryClassObj.col12">
                <div class="row right-panel" style="margin-top: 0">
                    <!-- <customer-header [header-title]="'Inpatient Discharge Ticket'"></customer-header> -->
                    <div class="col-md-12" style="padding: 0 !important;">
                        <!-- <div class="col-md-2"><h5>Discharge Summary of <b>{{selectedDischarge?.Name}}</b>({{selectedDischarge?.PatientCode}})
                </h5></div>-->
                        <div *ngIf="!fromClinical">
                            <div class="form-content-header clearfix">
                                <input style="width: 200px;height: 35px;margin-right: 10px;float: right;"
                                       class="btn blue" type="button" (click)="Save()" *ngIf="!update" value="Save" />
                                <input style="width: 200px;height: 35px;margin-right: 10px;float: right;"
                                       class="btn blue" type="button" (click)="Update()" *ngIf="update" value="Update" />
                                <input style="width: 200px;height: 35px;margin-right: 10px;float: right;"
                                       class="btn blue" type="button" (click)="SubmitAndViewSummary()" *ngIf="update"
                                       value="Submit and Print Summary" />
                            </div>
                            <!-- <input style="width: 20%;margin-right: 30px;float: right;" class="btn blue" type="button" (click)="ViewBirthCertificate()" *ngIf="update && DeliveryType" value="Edit Birth Certificate" /><input style="width: 20%;margin-right: 30px;float: right;" class="btn blue" type="button" (click)="ViewDeathCertificate()" *ngIf="update && Isdeath" value="Edit Death Certificate" /> -->
                        </div>
                    </div>
                    <div class="col-md-12" *ngIf="selectedTemplateFileds && selectedTemplateFileds.length">
                        <div class="row">
                            <div class="col-md-4 col-xs-12">
                                <div class="form-group" *ngIf="dischSumFieldSettings?.DischargeType?.Show">
                                    <label class="control-label col-md-5">Discharge Type <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.DischargeType?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <select class="form-control"
                                                [(ngModel)]="CurrentDischargeSummary.DischargeTypeId"
                                                formControlName="DischargeTypeId"
                                                (change)="OnChangeDischargeType($event.target.value);"
                                                (focusout)="focusOut()">
                                            <option *ngFor="let type of dischargeTypeList"
                                                    value="{{type.DischargeTypeId}}">
                                                {{type.DischargeTypeName}}
                                            </option>
                                        </select>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('DischargeTypeId')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('DischargeTypeId','required')">DischargeType
                                            is required</span>
                                    </div>
                                </div>
                                <div class="form-group"
                                     *ngIf="DischargeConditionType && dischSumFieldSettings?.DischargeCondition?.Show">
                                    <label class="control-label col-md-5">Discharge Condition <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.DischargeCondition?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <select class="form-control" formControlName="DischargeConditionId"
                                                [(ngModel)]="CurrentDischargeSummary.DischargeConditionId"
                                                (change)="OnChangeDischargeConditionType($event.target.value)"
                                                (focusout)="focusOut()">
                                            <option *ngFor="let type of FilteredDischargeConditions"
                                                    value="{{type.DischargeConditionId}}">
                                                {{type.Condition}}
                                            </option>
                                        </select>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('DischargeConditionId')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('DischargeConditionId','required')">Discharge
                                            Condition is required</span>
                                    </div>
                                </div>
                                <!--<div class="form-group" *ngIf="DeliveryType"><label class="control-label col-md-5">Delivery Type<b class="color-red">  *</b><b style="float:right;">:</b></label><div class="col-md-7"><select class="form-control"
                  formControlName="DeliveryTypeId"
                  [(ngModel)]="CurrentDischargeSummary.DeliveryTypeId"
                  (focusout)="focusOut()"><option *ngFor="let type of deliveryTypeList"
                    value="{{type.DeliveryTypeId}}">
              {{type.DeliveryTypeName}}
            </option></select><span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('DeliveryTypeId')" [hidden]="CurrentDischargeSummary.IsValidCheck('DeliveryTypeId','required')">DeliveryType is required</span></div></div><div class="form-group" *ngIf="DeliveryType"><label class="control-label col-md-5">Baby Birth Condition<b class="color-red">  *</b><b style="float:right;">:</b></label><div class="col-md-7"><select class="form-control"
                  formControlName="BabyBirthConditionId"
                  [(ngModel)]="CurrentDischargeSummary.BabyBirthConditionId"
                  (focusout)="focusOut()"><option *ngFor="let type of babybirthCondition"
                    value="{{type.BabyBirthConditionId}}">
              {{type.BirthConditionType}}
            </option></select><span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('BabyBirthConditionId')" [hidden]="CurrentDischargeSummary.IsValidCheck('BabyBirthConditionId','required')">Baby Birth Condition is required</span></div></div>-->
                                <div class="form-group" *ngIf="Isdeath">
                                    <label class="control-label col-md-5">Death Period <b class="color-red"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <select class="form-control" formControlName="DeathTypeId"
                                                [(ngModel)]="CurrentDischargeSummary.DeathTypeId" (focusout)="focusOut()">
                                            <option *ngFor="let type of deathTypeList" value="{{type.DeathTypeId}}">
                                                Death {{type.DeathType}} Hours
                                            </option>
                                        </select>
                                        <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('DeathTypeId')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('DeathTypeId','required')">Death
                                            type is required</span>
                                    </div>
                                </div>
                                <!--commented: Ramavtar-16Jan18,commmented/replaced dropdown doctor selector with autocomplete doctor selector-->
                                <!--<div class="form-group"><label class="control-label col-md-5">Consultant<b class="color-red">  *</b><b style="float:right;">:</b></label><div class="col-md-7"><select class="form-control" [(ngModel)]="CurrentDischargeSummary.ConsultantId"
                      formControlName="ConsultantId"><option *ngFor="let emp of providerList"
                          value="{{emp.EmployeeId}}">
                      {{emp.Salutation}}.{{emp.FirstName}} {{emp.MiddleName}} {{emp.LastName}}
                  </option></select><span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('ConsultantId')" [hidden]="CurrentDischargeSummary.IsValidCheck('ConsultantId','required')">Consultant is required</span></div></div>-->
                                <!-- <div class="form-group"><label class="control-label col-md-12">Consultant<b class="color-red"> *</b><b style="float: right">:</b></label></div><div class="form-group col-md-12" *ngFor="let cons of consultants;let i=index"><div class="col-md-8"><input danphe-auto-complete class="form-control" [(ngModel)]="consultant" [source]="providerList" [list-formatter]="myListFormatter" (focusout)="focusOut()" placeholder="Consultant name" display-property-name="FullName" value-property-name="null" (valueChanged)="loadConsultant()" min-chars="0" max-num-list="10" formControlName="ConsultantId" /><span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('ConsultantId')" [hidden]="CurrentDischargeSummary.IsValidCheck('ConsultantId','required')">Consultant is
                      required</span></div><div class="col-md-1" style="margin-right: 10px;"><input type="button" style="height: 25px; width: 25px; padding: 2px;" class="btn btn-info btn-sm" title="Add new Medicine" (click)="AddConsultant(i)" value="+" /></div><div class="col-md-1"><input type="button" style="border-radius: 1px; height: 25px; width: 25px; padding: 2px;" title="Delete Medicine" class="btn btn-danger btn-sm" (click)="RemoveMedicine(i,0)" value="X" /></div></div> -->
                                <div class="form-group" *ngIf="dischSumFieldSettings?.Consultant?.Show">
                                    <label class="control-label col-md-5">Consultant <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.Consultant?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <input danphe-auto-complete class="form-control" [(ngModel)]="consultant"
                                               [source]="providerList" [list-formatter]="myListFormatter"
                                               (focusout)="focusOut();AddConsultant()" placeholder="Consultant name"
                                               display-property-name="FullName" value-property-name="null"
                                               (valueChanged)="loadConsultant()" min-chars="0" max-num-list="10"
                                               [ngModelOptions]="{standalone: true}" />
                                        <span class="color-red" *ngIf="InvalidConsultant">Consultant is required</span>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <ol>
                                        <li *ngFor="let selected of selectedConsultants; let i=index;"> &nbsp;
                                            {{selected.FullName}}&nbsp; <i class="fa fa-times"
                                               style="color: #000 !important" (click)="RemoveConsultant(i)"></i>
                                        </li>
                                    </ol>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.DoctorIncharge?.Show">
                                    <label class="control-label col-md-5">Doctor Incharge <b
                                           *ngIf="complusoryDoctorIncharge && dischSumFieldSettings?.DoctorIncharge?.IsMandatory"
                                           class="color-red"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <input danphe-auto-complete class="form-control" (focusout)="focusOut()"
                                               [(ngModel)]="drIncharge" [source]="providerList"
                                               [list-formatter]="myListFormatter" placeholder="Doctor Incharge name"
                                               display-property-name="FullName" value-property-name="null"
                                               (valueChanged)="loadDrIncharge()" (focusout)="validateDrIncharge()"
                                               min-chars="0" max-num-list="10" formControlName="DoctorInchargeId" />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('DoctorInchargeId')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('DoctorInchargeId','required')">Doctor
                                            Incharge is required</span>
                                    </div>
                                </div>
                                <!--<div class="form-group"><label class="control-label col-md-5">Anasthetists <b style="float:right;">:</b></label><div class="col-md-7"><select class="form-control" [(ngModel)]="CurrentDischargeSummary.AnaesthetistsId"
                      [ngModelOptions]="{standalone: true}"><option *ngFor="let emp of providerList"
                          value="{{emp.EmployeeId}}">
                      {{emp.Salutation}}.{{emp.FirstName}} {{emp.MiddleName}} {{emp.LastName}}
                  </option></select></div></div>-->
                                <div class="form-group" *ngIf="dischSumFieldSettings?.Anesthetists?.Show">
                                    <label class="control-label col-md-5">Anesthetists <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.Anesthetists?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <input danphe-auto-complete class="form-control" [(ngModel)]="anasthetists"
                                               [source]="AnasthetistsList" [list-formatter]="ListFormatter"
                                               placeholder="Anasthetists name" display-property-name="FullName"
                                               value-property-name="null" (valueChanged)="loadAnasthetists()"
                                               (focusout)="focusOut()" min-chars="0" max-num-list="10"
                                               formControlName="AnaesthetistsId" />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('AnaesthetistsId') && dischSumFieldSettings?.Anesthetists?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('AnaesthetistsId','required') ">Anasthetists
                                            is required</span>
                                    </div>

                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.ResidentDr?.Show">
                                    <label class="control-label col-md-5">Resident Dr <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.ResidentDr?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <input danphe-auto-complete class="form-control" [(ngModel)]="residenceDr"
                                               [source]="providerList" [list-formatter]="myListFormatter"
                                               placeholder="Residence Dr name" display-property-name="FullName"
                                               value-property-name="null" (valueChanged)="loadResidenceDr()"
                                               (focusout)="focusOut()" min-chars="0" max-num-list="10"
                                               formControlName="ResidenceDrId" />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('ResidenceDrId') && dischSumFieldSettings?.Anesthetists?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('ResidenceDrId','required') ">ResidenceDr
                                            is required</span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.BabyWeight?.Show && ShowBabyWeight">
                                    <label class="control-label col-md-5">Baby Weight(gm)<b class="color-red"
                                           *ngIf="dischSumFieldSettings?.BabyWeight?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <input class="form-control" [(ngModel)]="CurrentDischargeSummary.BabyWeight"
                                               placeholder="Baby Weight (in gm)" formControlName="BabyWeight" />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('BabyWeight') && dischSumFieldSettings?.BabyWeight?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('BabyWeight','required') ">BabyWeight
                                            is required</span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.SelectDiagnosis?.Show">
                                    <label class="control-label col-md-5">
                                        <b>Diagnosis</b>
                                    </label>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.SelectDiagnosis?.Show">
                                    <label class="control-label col-md-5"> Select Diagnosis <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.SelectDiagnosis?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <!-- <div class="form-group" style="padding:10px;"> -->
                                        <input danphe-auto-complete autocomplete="off" class="form-control"
                                               [(ngModel)]="diagnosis" [source]="icd10List"
                                               [list-formatter]="DignosisFormatter"
                                               (focusout)="focusOut();MakeDiagnosisList();"
                                               placeholder="Select {{icdVersionDisplay}}(s)"
                                               display-property-name="icd11Description" value-property-name="ICD10Id"
                                               (valueChanged)="loadICDs();" min-chars="0" max-num-list="10"
                                               formControlName="icd10Description" />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('icd10Description') && dischSumFieldSettings?.SelectDiagnosis?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('icd10Description','required') ">SelectDiagnosis
                                            is required</span>
                                    </div>
                                </div>
                                <!-- Start: Selected Diagnosis List  -->
                                <div class="form-group" *ngIf="dischSumFieldSettings?.SelectDiagnosis?.Show">
                                    <ul class="select-list">
                                        <!-- <i class="fa fa-circle" aria-hidden="true"></i> -->
                                        <li class="fa fa-circle"
                                            *ngFor="let diagnosis of selectedDiagnosisList; let i=  index;"> &nbsp;
                                            {{diagnosis?.icd10Description}} &nbsp; <i class="fa fa-times"
                                               style="color: #000 !important" (click)="RemoveDiagnosis(i)"></i>
                                            <br>
                                        </li>
                                    </ul>
                                </div>
                                <!-- End: Selected Diagnosis List  -->
                                <div class="form-group" *ngIf="dischSumFieldSettings?.ProvisonalDiagnosis?.Show">
                                    <label class="control-label col-md-5"> Provisonal Diagnosis <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.ProvisonalDiagnosis?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <!-- <div class="form-group" style="padding:10px;"> -->
                                        <input danphe-auto-complete autocomplete="off" class="form-control"
                                               [(ngModel)]="provisonalDiagnosis" [source]="icd10List"
                                               [list-formatter]="DignosisFormatter"
                                               (focusout)="focusOut();MakeProvisonalDiagnosisList();"
                                               placeholder="Select {{icdVersionDisplay}}(s) for provisonal diagnosis"
                                               display-property-name="icd11Description" value-property-name="ICD10Id"
                                               (valueChanged)="loadICDs();" min-chars="0" max-num-list="10"
                                               formControlName="icd10Description" />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('icd10Description') && dischSumFieldSettings?.ProvisonalDiagnosis?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('icd10Description','required') ">ProvisonalDiagnosis
                                            is required</span>
                                    </div>
                                </div>
                                <!-- Start: Selected Diagnosis List  -->
                                <div class="form-group" *ngIf="dischSumFieldSettings?.ProvisonalDiagnosis?.Show">
                                    <ul class="select-list">
                                        <!-- <i class="fa fa-circle" aria-hidden="true"></i> -->
                                        <li class="fa fa-circle"
                                            *ngFor="let diagnosis of selectedProviDiagnosisList; let i=  index;"> &nbsp;
                                            {{diagnosis?.icd10Description}} &nbsp; <i class="fa fa-times"
                                               style="color: #000 !important"
                                               (click)="RemoveProvisonalDiagnosis(i)"></i>
                                            <br>
                                        </li>
                                    </ul>
                                </div>
                                <!-- End: Selected Diagnosis List  -->
                                <div class="form-group" *ngIf="dischSumFieldSettings?.OtherDiagnosis?.Show">
                                    <label *ngIf="!IsFishTailtemplate" class="control-label col-md-12">Other Diagnosis
                                        <b class="color-red" *ngIf="dischSumFieldSettings?.OtherDiagnosis?.IsMandatory">
                                            *</b>
                                    </label>
                                    <label *ngIf="IsFishTailtemplate" class="control-label col-md-12">Diagnosis </label>
                                    <div class="col-md-12">
                                        <textarea *ngIf="!IsFishTailtemplate" class="form-control"
                                                  formControlName="DiagnosisFreeText"
                                                  [(ngModel)]="CurrentDischargeSummary.DiagnosisFreeText"
                                                  (focusout)="focusOut()" placeholder="Enter Other Diagnosis"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('DiagnosisFreeText') && dischSumFieldSettings?.OtherDiagnosis?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('DiagnosisFreeText','required') ">OtherDiagnosis
                                            is required</span>
                                        <br />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('DiagnosisFreeText') && !IsFishTailtemplate"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('DiagnosisFreeText','maxlength')">Other
                                            Diagnosis must be less than or equals 1000 characters</span>
                                        <textarea *ngIf="IsFishTailtemplate" class="form-control"
                                                  formControlName="DiagnosisFreeText"
                                                  [(ngModel)]="CurrentDischargeSummary.DiagnosisFreeText"
                                                  (focusout)="focusOut()" placeholder="Enter Diagnosis"></textarea>
                                        <br />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('DiagnosisFreeText') &&IsFishTailtemplate"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('DiagnosisFreeText','maxlength')">
                                            Diagnosis must be less than or equals 1000 characters</span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.ClinicalFindings?.Show">
                                    <label class="control-label col-md-12">Clinical Findings <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.ClinicalFindings?.IsMandatory"> *</b>
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="5000"
                                                  formControlName="ClinicalFindings"
                                                  [(ngModel)]="CurrentDischargeSummary.ClinicalFindings"
                                                  (focusout)="focusOut()" placeholder="Clinical Findings"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('ClinicalFindings') && dischSumFieldSettings?.ClinicalFindings?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('ClinicalFindings','required') ">ClinicalFindings
                                            is required</span>
                                        <br />
                                        <!-- <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('ClinicalFindings')" [hidden]="CurrentDischargeSummary.IsValidCheck('ClinicalFindings','maxlength')">Clinical Findings must
                      be less than 5000 characters</span> -->
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.CheifComplain?.Show">
                                    <label class="control-label col-md-12">Chief Complain <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.CheifComplain?.IsMandatory"> *</b>
                                        <!-- <b style="float: right">:</b> -->
                                    </label>
                                    <div class="col-md-12">
                                        <!-- <span class="textarea form-control" role="textbox" maxlength="1000" contenteditable formControlName="CaseSummary"
                    [(ngModel)]="CurrentDischargeSummary.CaseSummary" placeholder="CaseSummary"
                    (focusout)="focusOut()"></span><br> -->
                                        <textarea class="form-control" maxlength="1000" formControlName="ChiefComplaint"
                                                  [(ngModel)]="CurrentDischargeSummary.ChiefComplaint" (focusout)="focusOut()"
                                                  placeholder="Chief Complaint"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('ChiefComplaint') && dischSumFieldSettings?.CheifComplain?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('ChiefComplaint','required') ">CheifComplain
                                            is required</span>

                                        <br />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('ChiefComplaint')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('ChiefComplaint','maxlength')">Chief
                                            Complaint must be less than 1000 characters</span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.HistoryOfPresentingIllness?.Show">
                                    <label class="control-label col-md-12">History of Presenting Illness<b
                                           class="color-red"
                                           *ngIf="dischSumFieldSettings?.HistoryOfPresentingIllness?.IsMandatory">
                                            *</b>
                                        <!-- <b style="float: right">:</b> -->
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="5000"
                                                  formControlName="PresentingIllness"
                                                  [(ngModel)]="CurrentDischargeSummary.PresentingIllness"
                                                  (focusout)="focusOut()" placeholder="Presenting Illness"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('PresentingIllness') && dischSumFieldSettings?.HistoryOfPresentingIllness?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('PresentingIllness','required') ">PresentingIllness
                                            is required</span>
                                        <br />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('PresentingIllness')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('PresentingIllness','maxlength')">History
                                            of Presenting Illness must be less than 1000 characters</span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.PastHistory?.Show">
                                    <label class="control-label col-md-12">Past History <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.PastHistory?.IsMandatory"> *</b>
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="5000" formControlName="PastHistory"
                                                  [(ngModel)]="CurrentDischargeSummary.PastHistory" (focusout)="focusOut()"
                                                  placeholder="Past History"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('PastHistory') && dischSumFieldSettings?.PastHistory?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('PastHistory','required') ">PastHistory
                                            is required</span>

                                        <!-- <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('PresentingIllness')" [hidden]="CurrentDischargeSummary.IsValidCheck('PresentingIllness','maxlength')">History of Presenting Illness must be less than 1000 characters</span> -->
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.CaseSummery?.Show">
                                    <label class="control-label col-md-12">Case Summary<b class="color-red"
                                           *ngIf="dischSumFieldSettings?.CaseSummery?.IsMandatory"> *</b>
                                        <!-- <b style="float: right">:</b>                    -->
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" id="textarea" rows="10" maxlength="5000"
                                                  formControlName="CaseSummary"
                                                  [(ngModel)]="CurrentDischargeSummary.CaseSummary" placeholder="CaseSummary"
                                                  (focusout)="focusOut()"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('CaseSummary') && dischSumFieldSettings?.CaseSummery?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('CaseSummary','required') ">CaseSummary
                                            is required</span>
                                        <br />
                                        <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('CaseSummary')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('CaseSummary','maxlength')">Case
                                            Summary must be less than 1000 characters</span>
                                        <!--<span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('Treatment')" [hidden]="CurrentDischargeSummary.IsValidCheck('Treatment','required')">Treatment is mandatory.</span>-->
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.Procedure?.Show">
                                    <label class="control-label col-md-12"> Procedure <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.Procedure?.IsMandatory"> *</b>
                                        <!-- <b style="float: right">:</b> -->
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="1000" formControlName="ProcedureNts"
                                                  [(ngModel)]="CurrentDischargeSummary.ProcedureNts"
                                                  placeholder="ProcedureNts " (focusout)="focusOut()"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('ProcedureNts') && dischSumFieldSettings?.Procedure?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('ProcedureNts','required') ">Procedure
                                            is required</span>
                                        <br />
                                        <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('ProcedureNts')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('ProcedureNts','maxlength')">
                                            Procedure must be less than 1000 characters</span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.OperativeFindings?.Show">
                                    <label class="control-label col-md-12">Operative Findings<b class="color-red"
                                           *ngIf="dischSumFieldSettings?.OperativeFindings?.IsMandatory"> *</b>
                                        <!-- <b style="float: right">:</b> -->
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="1000"
                                                  formControlName="OperativeFindings"
                                                  [(ngModel)]="CurrentDischargeSummary.OperativeFindings"
                                                  placeholder="OperativeFindings" (focusout)="focusOut()"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('OperativeFindings') && dischSumFieldSettings?.OperativeFindings?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('OperativeFindings','required') ">OperativeFindings
                                            is required</span>
                                        <br />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('OperativeFindings')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('OperativeFindings','maxlength')">Operative
                                            Findings must be less than 1000 characters</span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.HospitalReport?.Show">
                                    <label class="control-label col-md-12">Hospital Report<b class="color-red"
                                           *ngIf="dischSumFieldSettings?.HospitalReport?.IsMandatory"> *</b>
                                        <!-- <b style="float: right">:</b> -->
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="1000"
                                                  formControlName="HistologyReport"
                                                  [(ngModel)]="CurrentDischargeSummary.HistologyReport"
                                                  (focusout)="focusOut()" placeholder="HistologyReport"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('HistologyReport') && dischSumFieldSettings?.HospitalReport?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('HistologyReport','required') ">HistologyReport
                                            is required</span>
                                        <br />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('HistologyReport')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('HistologyReport','maxlength')">Histology
                                            Report must be less than 1000 characters</span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.HospitalCourse?.Show">
                                    <label class="control-label col-md-12">Hospital Course <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.HospitalCourse?.IsMandatory"> *</b>
                                        <!-- <b style="float: right">:</b> -->
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="5000" formControlName="HospitalCourse"
                                                  [(ngModel)]="CurrentDischargeSummary.HospitalCourse" (focusout)="focusOut()"
                                                  placeholder="Hospital Course"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('HospitalCourse') && dischSumFieldSettings?.HospitalCourse?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('HospitalCourse','required') ">HospitalCourse
                                            is required</span>
                                        <br />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('HospitalCourse')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('HospitalCourse','maxlength')">Hospital
                                            Course must be less than 1000 characters</span>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <!-- <div class="form-group"><label class="control-label col-md-5">
                    Procedures<b style="float: right">:</b></label><div class="col-md-7"><textarea class="form-control" maxlength="1000" formControlName="ProcedureNts"
                      [(ngModel)]="CurrentDischargeSummary.ProcedureNts" (focusout)="focusOut()"
                      placeholder="Procedures"></textarea><br /><span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('ProcedureNts')"
                      [hidden]="CurrentDischargeSummary.IsValidCheck('ProcedureNts','maxlength')">Procedures must be
                      less
                      than 1000 characters</span></div></div> -->
                                <div class="form-group"
                                     *ngIf="dischSumFieldSettings?.TreatmentDuringHospitalStay?.Show">
                                    <label class="control-label col-md-5">Treatment During Hospital Stay <b
                                           class="color-red"
                                           *ngIf="dischSumFieldSettings?.TreatmentDuringHospitalStay?.IsMandatory">
                                            *</b><b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <textarea class="form-control" maxlength="5000" formControlName="Treatment"
                                                  [(ngModel)]="CurrentDischargeSummary.Treatment"
                                                  placeholder="Treatment during hospital stay"
                                                  (focusout)="focusOut()"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('Treatment') && dischSumFieldSettings?.TreatmentDuringHospitalStay?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Treatment','required') ">Treatment
                                            is required</span>
                                        <br />
                                        <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('Treatment')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Treatment','maxlength')">Treatment
                                            must be less than 1000 characters</span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.ConditionOnDischarge?.Show">
                                    <label class="control-label col-md-5">Condition On Discharge <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.TreatmentDuringHospitalStay?.IsMandatory">
                                            *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <textarea class="form-control" maxlength="100" formControlName="Condition"
                                                  [(ngModel)]="CurrentDischargeSummary.Condition" placeholder="Condition"
                                                  (focusout)="focusOut()"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('Condition') && dischSumFieldSettings?.ConditionOnDischarge?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Condition','required') ">Condition
                                            is required</span>
                                        <br />
                                        <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('Condition')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Condition','maxlength')">Condition
                                            Of Discharge must be less than 1000 characters</span>
                                        <!-- <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('Condition')"
                                            [hidden]="CurrentDischargeSummary.IsValidCheck('Condition','required')">Condition
                                            is mandatory.</span> -->
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.PendingReports?.Show">
                                    <label class="control-label col-md-5">Pending Reports <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.PendingReports?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <textarea class="form-control" maxlength="1000" formControlName="PendingReports"
                                                  [(ngModel)]="CurrentDischargeSummary.PendingReports" (focusout)="focusOut()"
                                                  placeholder="Pending Reports"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('PendingReports') && dischSumFieldSettings?.PendingReports?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('PendingReports','required') ">PendingReports
                                            is required</span>
                                        <br />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('PendingReports')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('PendingReports','maxlength')">Pending
                                            Reports must be less than 1000 characters</span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.SpecialNotes?.Show">
                                    <label class="control-label col-md-12">Special Notes<b class="color-red"
                                           *ngIf="dischSumFieldSettings?.SpecialNotes?.IsMandatory"> *</b>
                                        <!-- <b style="float: right">:</b> -->
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="1000" formControlName="SpeicialNotes"
                                                  [(ngModel)]="CurrentDischargeSummary.SpeicialNotes" (focusout)="focusOut()"
                                                  placeholder="Special Notes"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('SpeicialNotes') && dischSumFieldSettings?.SpecialNotes?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('SpeicialNotes','required') ">SpeicialNotes
                                            is required</span>
                                        <br />
                                        <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('SpeicialNotes')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('SpeicialNotes','maxlength')">Special
                                            Notes must be less than 1000 characters</span>
                                    </div>
                                </div>
                                <div>
                                    <!--commented: sud-9Aug, Use this once Lab-Module is implemented properly, until then display only the requisitions-->
                                    <!--<div *ngIf="labResults"><div><h5><b>{{labResults.TemplateName}}</b></h5></div><table><thead><tr><th width="180" align="center" class="BillCreditHdr">Component</th><th width="150" align="center" class="BillCreditHdr">Value</th><th width="150" align="center" class="BillCreditHdr">Unit</th><th width="115" align="center" class="BillCreditHdr">Range</th><th width="100" align="center" class="BillCreditHdr">Remark</th></tr></thead><tr *ngFor="let comp of labResults.Components"><td><input value="{{comp.Component}}" readonly="readonly" /></td><td><input value="{{comp.Value}}" readonly="readonly" /></td><td><input value="{{comp.Unit}}" readonly="readonly" /></td><td><input value="{{comp.Range}}" readonly="readonly" /></td><td><input value="{{comp.Remarks}}" readonly="readonly" /></td></tr></table></div>-->
                                    <!--commented: sud-9Aug, Un-COmment it after imaging results starts coming here.-->
                                </div>
                                <div class="form-group" style="margin-bottom: 30px !important"
                                     *ngIf="dischSumFieldSettings?.Allergies?.Show">
                                    <label class="control-label col-md-12">Allergies <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.Allergies?.IsMandatory"> *</b>
                                        <!-- <b style="float: right">:</b> -->
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="100" formControlName="Allergies"
                                                  [(ngModel)]="CurrentDischargeSummary.Allergies" (focusout)="focusOut()"
                                                  placeholder="Allergies"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('Allergies') && dischSumFieldSettings?.Allergies?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Allergies','required') ">Allergies
                                            is required</span>
                                        <br />
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.DischargeOrder?.Show">
                                    <label class="control-label col-md-5">
                                        <b>Discharge Order <b class="color-red"
                                               *ngIf="dischSumFieldSettings?.DischargeOrder?.IsMandatory"> *</b>
                                        </b>
                                    </label>
                                </div>
                                <!-- <span style="padding-left: 15px" class="form-group-header"><b>Discharge Order</b></span><br /> -->
                                <div class="form-group" *ngIf="dischSumFieldSettings?.Activities?.Show">
                                    <label class="control-label col-md-12">Activities<b class="color-red"
                                           *ngIf="dischSumFieldSettings?.Activities?.IsMandatory"> *</b>
                                        <!-- <b style="float: right">:</b> -->
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="1000" formControlName="Activities"
                                                  [(ngModel)]="CurrentDischargeSummary.Activities" (focusout)="focusOut()"
                                                  placeholder="Activities"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('Activities') && dischSumFieldSettings?.Activities?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Activities','required') ">Allergies
                                            is required</span>
                                        <br />
                                        <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('Activities')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Activities','maxlength')">
                                            Activities must be less than 1000 characters </span>
                                    </div>
                                </div>
                                <div class="form-group" style="margin-bottom: 30px !important"
                                     *ngIf="dischSumFieldSettings?.Diet?.Show">
                                    <label class="control-label col-md-12">Diet <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.Diet?.IsMandatory"> *</b>
                                        <!-- <b style="float: right">:</b> -->
                                    </label>
                                    <div class="col-md-12">
                                        <textarea class="form-control" maxlength="1000" formControlName="Diet"
                                                  [(ngModel)]="CurrentDischargeSummary.Diet" (focusout)="focusOut()"
                                                  placeholder="Diet"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('Diet') && dischSumFieldSettings?.Diet?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Diet','required') ">Diet
                                            is required</span>
                                        <br />
                                        <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('Diet')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Diet','maxlength')"> Diet
                                            must be less than 1000 characters </span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.RestDays?.Show">
                                    <label class="control-label col-md-5">Rest Days <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.RestDays?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <input *ngIf="!IsFishTailtemplate" class="form-control" type="number" min="0"
                                               max="120" formControlName="RestDays" (focusout)="focusOut()"
                                               [(ngModel)]="CurrentDischargeSummary.RestDays" placeholder="Rest Days" />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('RestDays') && dischSumFieldSettings?.RestDays?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('RestDays','required') ">RestDays
                                            is required</span>
                                        <input *ngIf="IsFishTailtemplate" class="form-control" type="text"
                                               [ngModelOptions]="{standalone: true}" (focusout)="focusOut()"
                                               [(ngModel)]="CurrentDischargeSummary.RestDays" placeholder="Rest Days" />
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.FollowUP?.Show">
                                    <label class="control-label col-md-5">Follow Up <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.FollowUP?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <input *ngIf="!IsFishTailtemplate" class="form-control" type="number" min="0"
                                               max="120" formControlName="FollowUp"
                                               [(ngModel)]="CurrentDischargeSummary.FollowUp" (focusout)="focusOut()" />
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('FollowUp') && dischSumFieldSettings?.FollowUP?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('FollowUp','required') ">FollowUp
                                            is required</span>
                                        <input *ngIf="IsFishTailtemplate" class="form-control" type="text"
                                               [ngModelOptions]="{standalone: true}"
                                               [(ngModel)]="CurrentDischargeSummary.FollowUp" (focusout)="focusOut()" />
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.Others?.Show">
                                    <label class="control-label col-md-5">Others <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.Others?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <textarea class="form-control" maxlength="1000" formControlName="Others"
                                                  [(ngModel)]="CurrentDischargeSummary.Others" placeholder="extra comments"
                                                  (focusout)="focusOut()"></textarea>
                                        <span class="color-red"
                                              *ngIf="CurrentDischargeSummary.IsDirty('Others') && dischSumFieldSettings?.Others?.IsMandatory"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Others','required') ">Others
                                            is required</span>
                                        <br />
                                        <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('Others')"
                                              [hidden]="CurrentDischargeSummary.IsValidCheck('Others','maxlength')"> Extra
                                            comments must be less than 1000 characters </span>
                                    </div>
                                </div>
                                <div class="form-group" *ngIf="dischSumFieldSettings?.CheckedBy?.Show">
                                    <label class="control-label col-md-5">CheckedBy <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.CheckedBy?.IsMandatory"> *</b>
                                        <b style="float: right">:</b>
                                    </label>
                                    <div class="col-md-7">
                                        <input danphe-auto-complete class="form-control" [(ngModel)]="CheckedBy"
                                               [source]="UserList" [list-formatter]="userListFormatter"
                                               placeholder="Checked by name" display-property-name="EmployeeName"
                                               value-property-name="null" (valueChanged)="CheckedByChanged()"
                                               (focusout)="focusOut()" min-chars="0" max-num-list="10"
                                               [ngModelOptions]="{standalone: true}" />
                                    </div>
                                </div>
                                <!--<div class="form-group"><label class="control-label col-md-5">Residence Dr<b style="float:right;">:</b></label><div class="col-md-7"><select class="form-control" [(ngModel)]="CurrentDischargeSummary.ResidenceDrId"
                      [ngModelOptions]="{standalone: true}"><option *ngFor="let emp of providerList"
                          value="{{emp.EmployeeId}}">
                      {{emp.Salutation}}.{{emp.FirstName}} {{emp.MiddleName}} {{emp.LastName}}
                  </option></select><span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('ResidenceDrId')" [hidden]="CurrentDischargeSummary.IsValidCheck('ResidenceDrId','required')">Residence Doctor is required</span></div></div> class="zoomcheckbox"-->
                            </div>
                            <div class="col-md-4 col-xs-12">
                                <div class="investigation-panel">
                                    <label class="panel-heading" style="font-size: 14px; width: 100%"
                                           *ngIf="dischSumFieldSettings?.Investigations?.Show">
                                        <i class="fa fa-bars"></i>Investigations <b class="color-red"
                                           *ngIf="dischSumFieldSettings?.Investigations?.IsMandatory"> *</b>
                                        &nbsp; </label>
                                    <div class="show-report-btn" *ngIf="dischSumFieldSettings?.Investigations?.Show">
                                        <span style="font-weight: 500; color: #272727;">Show Result on Report &nbsp;
                                            <input [(ngModel)]="IsReportWithResult" name="IsReportWithResult"
                                                   width="100" type="radio" [ngModelOptions]="{standalone: true}"
                                                   [value]="true" (click)="showChooseTestResultPopup=true;"
                                                   id="IsReportWithResultYes" />
                                            <label for="IsReportWithResultYes">Yes</label> &ensp; <input
                                                   [(ngModel)]="IsReportWithResult" name="IsReportWithResult" width="100"
                                                   type="radio" id="IsReportWithResultNo"
                                                   [ngModelOptions]="{standalone: true}" [value]="false" />
                                            <label for="IsReportWithResultNo">No</label>
                                        </span>
                                    </div>
                                    <div *ngIf="labRequests && dischSumFieldSettings?.LabTests?.Show"
                                         style="padding-top: 10px">
                                        <table class="table-responsive" style="width: 100%">
                                            <thead>
                                                <tr>
                                                    <th width="50%" align="center">Lab Tests <b class="color-red"
                                                           *ngIf="dischSumFieldSettings?.LabTests?.IsMandatory"> *</b>
                                                    </th>
                                                    <th width="50%" align="center">Add New Tests</th>
                                                </tr>
                                            </thead>
                                            <tbody style="height: 170px; overflow: auto">
                                                <tr>
                                                    <td>
                                                        <table>
                                                            <tbody>
                                                                <tr *ngFor="let tst of labRequests;let i=index;">
                                                                    <td width="70%">
                                                                        <ul>
                                                                            <li>
                                                                                <i class="fa fa-circle"
                                                                                   aria-hidden="true"></i>
                                                                                {{tst.TestName}}
                                                                            </li>
                                                                        </ul>
                                                                    </td>
                                                                    <td style="border-right: 1px solid #eee">
                                                                        <input class="zoomcheckbox"
                                                                               [(ngModel)]="tst.IsSelectTest"
                                                                               name="IsSelected" width="100"
                                                                               type="checkbox"
                                                                               ng-checked="tst.IsSelectTest=true"
                                                                               (change)="LabTestSelection(i)"
                                                                               [ngModelOptions]="{standalone: true}" />
                                                                    </td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                    <td>
                                                        <input autocomplete="off" danphe-auto-complete
                                                               class="form-control" [(ngModel)]="labtest"
                                                               [source]="LabTestList" [list-formatter]="labTestFormatter"
                                                               placeholder="Add New Test" onClick="this.select();"
                                                               display-property-name="LabTestName"
                                                               value-property-name="LabTestId" (focusout)="loadlabTest()"
                                                               min-chars="0" max-num-list="10"
                                                               [ngModelOptions]="{standalone: true}" />
                                                        <table style="padding: 10px" *ngIf="AddedTests">
                                                            <tr *ngFor="let tst of AddedTests;let i=index;"
                                                                style="padding: 2px">
                                                                <td style="padding-left: 5px">
                                                                    <ul>
                                                                        <li>
                                                                            <i class="fa fa-check"></i>{{tst.TestName}}
                                                                        </li>
                                                                    </ul>
                                                                </td>
                                                                <td align="right">
                                                                    <input type="button" style="border-radius: 1px"
                                                                           class="btn btn-danger btn-sm"
                                                                           (click)="RemoveAddedTest(i)" value="X" />
                                                                </td>
                                                            </tr>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                    <!--Imaging Details Starts Here-->
                                    <div *ngIf="imagingResults && dischSumFieldSettings?.Imgaings?.Show"
                                         style="margin-top: 15px">
                                        <table class="table-bordered" style="width: 100%">
                                            <thead>
                                                <tr>
                                                    <th width="180" align="center">Imagings <b class="color-red"
                                                           *ngIf="dischSumFieldSettings?.Imgaings?.IsMandatory"> *</b>
                                                    </th>
                                                </tr>
                                            </thead>
                                            <tr *ngFor="let img of imagingResults; let i = index;">
                                                <td>
                                                    <input value="{{img.ImagingItemName}}" readonly="readonly"
                                                           style="border: 1px solid #afafaf; width: 100%" />
                                                </td>
                                                <td style="border-right: 1px solid #eee">
                                                    <input class="zoomcheckbox" [(ngModel)]="img.IsImagingSelected"
                                                           name="IsImagingSelected" width="100" type="checkbox"
                                                           ng-checked="tst.IsImagingSelected=true"
                                                           (change)="ImagingSelection(i)"
                                                           [ngModelOptions]="{standalone: true}"
                                                           style="border: 1px solid #afafaf" />
                                                </td>
                                                <!--<td><input value="{{img.ImagingTypeName}}" readonly="readonly" /></td><td><input value="{{img.ReportText}}" readonly="readonly" /></td>-->
                                                <!--tr-->
                                            </tr>
                                        </table>
                                    </div>
                                    <!--Imaging Details Ends Here-->
                                    <div class="" style="padding-top: 10px"
                                         *ngIf="dischSumFieldSettings?.Medications?.Show">
                                        <table class="table-responsive" style="width: 100%">
                                            <div class="col-md-12">
                                                <h5 class="panel-heading">
                                                    <i class="fa fa-bars"></i>Medications<b class="color-red"
                                                       *ngIf="dischSumFieldSettings?.Medications?.IsMandatory"> *</b>
                                                </h5>
                                                <!--<b style="float:right;">:</b> -->
                                                <!-- <textarea class="form-control" maxlength="1000" formControlName="Medications"
              [(ngModel)]="CurrentDischargeSummary.Medications"
              placeholder="Medications"></textarea><br /> -->
                                                <!-- <span class="color-red" *ngIf="CurrentDischargeSummary.IsDirty('Medications')"
              [hidden]="CurrentDischargeSummary.IsValidCheck('Medications','maxlength')">Medications
              must be less than 1000 characters</span> -->
                                                <!-- </div> -->
                                            </div>
                                            <!-- </table><table class="table-bordered" style="width:95%"> -->
                                            <div class="col-md-12">
                                                <div class="col-md-4" style="display: none">
                                                    <!-- <select [(ngModel)]="medicationtype" title="Select Medicine Type"
                        [ngModelOptions]="{standalone: true}" style="width:160px;height:30px;"><option value="0">New Medicines</option><option value="1">Continue Old Medicines</option><option value="2">Stop Old Medicines</option></select> -->
                                                    <label title="New Medicines" max="10"
                                                           style="width: 160px; overflow: hidden">New Medicines</label>
                                                </div>
                                                <div class="col-md-12 medication-list" style="padding-left: 0px">
                                                    <tr *ngFor="let med of NewMedications;let i=index">
                                                        <td class="form-group" style="width: 78%;">
                                                            <!-- <form [formGroup]="med.DischargeSummaryMedicationValidator"> -->
                                                            <input type="test" style="width: 100%"
                                                                   title="Enter Medicine" [(ngModel)]="med.Medicine"
                                                                   [id]="'MedicineInput'+i" max="100"
                                                                   [ngModelOptions]="{standalone: true}"
                                                                   (focusout)="focusOut()"
                                                                   (keyup.enter)="OnMedicineEnterKeyClick()"
                                                                   placeholder="Enter Medicines" name="Medicine" />
                                                            <br />
                                                            <!-- <span class="color-red" *ngIf="med.IsDirty('Medicine')"
                                        [hidden]="med.IsValidCheck('Medicine','maxlength')">Required</span><span class="color-red" *ngIf="med.IsDirty('Medicine')" [hidden]="med.IsValidCheck('Medicine','required')">Required</span> -->
                                                            <!-- </form> -->
                                                        </td>
                                                        <!-- <td class="form-group" style="padding-left: 5px"><form [formGroup]="med.DischargeSummaryMedicationValidator"><select [(ngModel)]="med.FrequencyId" [ngModelOptions]="{standalone: true}"
                                (focusout)="focusOut()" placeholder="Frequency" style="height: 25px"
                                title="Select Dosage Frequency"><option *ngFor="let frq of medicationFrequency" value="{{frq.FrequencyId}}">
                                  {{frq.Type}}
                                </option></select><span class="color-red" *ngIf="med.IsDirty('FrequencyId')"
                                        [hidden]="med.IsValidCheck('FrequencyId','required')">Required</span></form></td> -->
                                                        <!-- <td class="form-group" style="padding-left: 5px"><form [formGroup]="med.DischargeSummaryMedicationValidator"><input type="test" max="100" [(ngModel)]="med.Notes" style="width: 40px"
                                [ngModelOptions]="{standalone: true}" (focusout)="focusOut()" placeholder="Notes"
                                name="Note" /></form></td> -->
                                                        <td style="padding-left: 5px; text-align: right;">
                                                            <input type="button" style="border-radius: 1px"
                                                                   class="btn btn-info btn-sm" title="Add new Medicine"
                                                                   (click)="AddMedicine(0)" value="+" />
                                                            <input type="button" style="border-radius: 1px"
                                                                   title="Delete Medicine" class="btn btn-danger btn-sm"
                                                                   (click)="RemoveMedicine(i,0)" value="X" />
                                                        </td>
                                                    </tr>
                                                </div>
                                            </div>
                                            <!-- <div class="col-md-12"><div class="col-md-3" style="display: none"><label title="Old Medicines" max="10" style="width: 160px; overflow: hidden">Old Medicines
                            Continue</label></div><div class="col-md-12" style="padding-left: 0px"><tr *ngFor="let med of OldMedications;let i=index"><td class="form-group"><form [formGroup]="med.DischargeSummaryMedicationValidator"><input type="test" formControlName="Medicine" style="width: 100px" title="Enter Medicine"
                                  [(ngModel)]="med.Medicine" (focusout)="focusOut()" max="100"
                                  placeholder="Previous Medicine" name="Medicine" /><br /><span class="color-red" *ngIf="med.IsDirty('Medicine')"
                                  [hidden]="med.IsValidCheck('Medicine','maxlength')">Required</span><span class="color-red" *ngIf="med.IsDirty('Medicine')"
                                  [hidden]="med.IsValidCheck('Medicine','required')">Required</span></form></td><td class="form-group" style="padding-left: 5px"><form [formGroup]="med.DischargeSummaryMedicationValidator"><select formControlName="FrequencyId" [(ngModel)]="med.FrequencyId" (focusout)="focusOut()"
                                  placeholder="Frequency" style="height: 25px" title="Select Dosage Frequency"><option *ngFor="let frq of medicationFrequency" value="{{frq.FrequencyId}}">
                                    {{frq.Type}}
                                  </option></select><span class="color-red" *ngIf="med.IsDirty('FrequencyId')"
                                  [hidden]="med.IsValidCheck('FrequencyId','required')">Required</span></form></td><td class="form-group" style="padding-left: 5px"><form [formGroup]="med.DischargeSummaryMedicationValidator"><input type="test" max="100" [(ngModel)]="med.Notes" (focusout)="focusOut()"
                                  style="width: 40px" [ngModelOptions]="{standalone: true}" placeholder="Notes"
                                  name="Note" /></form></td><td style="padding-left: 5px"><input type="button" style="border-radius: 1px" class="btn btn-info btn-sm"
                                title="Add new Medicine" (click)="AddMedicine(1)" value="+" /></td><td style="padding-left: 2px"><input type="button" style="border-radius: 1px" title="Delete Medicine"
                                class="btn btn-danger btn-sm" (click)="RemoveMedicine(i,1)" value="X" /></td></tr></div></div> -->
                                            <!-- <div class="col-md-12"><div class="col-md-3" style="display: none"><label title="Stop old Medicines" max="10" style="width: 160px; overflow: hidden">Stop Old
                            Medicines</label></div><div class="col-md-12" style="padding-left: 0px"><tr *ngFor="let med of StoppedOldMedications;let i=index"><td class="form-group"><form [formGroup]="med.DischargeSummaryMedicationValidator"><input type="test" formControlName="Medicine" style="width: 100px" title="Enter Medicine"
                                  [(ngModel)]="med.Medicine" (focusout)="focusOut()" max="100"
                                  placeholder="Stop Old Medicine" name="Medicine" /><br /><span class="color-red" *ngIf="med.IsDirty('Medicine')"
                                  [hidden]="med.IsValidCheck('Medicine','maxlength')">Required</span><span class="color-red" *ngIf="med.IsDirty('Medicine')"
                                  [hidden]="med.IsValidCheck('Medicine','required')">Required</span></form></td><td class="form-group" style="padding-left: 5px"><form [formGroup]="med.DischargeSummaryMedicationValidator"><select formControlName="FrequencyId" [(ngModel)]="med.FrequencyId" (focusout)="focusOut()"
                                  placeholder="Frequency" style="height: 25px" title="Select Dosage Frequency"><option *ngFor="let frq of medicationFrequency" value="{{frq.FrequencyId}}">
                                    {{frq.Type}}
                                  </option></select><span class="color-red" *ngIf="med.IsDirty('FrequencyId')"
                                  [hidden]="med.IsValidCheck('FrequencyId','required')">Required</span></form></td><td class="form-group" style="padding-left: 5px"><form [formGroup]="med.DischargeSummaryMedicationValidator"><input type="text" max="100" [(ngModel)]="med.Notes" (focusout)="focusOut()"
                                  style="width: 40px" [ngModelOptions]="{standalone: true}" placeholder="Notes"
                                  name="Note" /></form></td><td style="padding-left: 5px"><input type="button" style="border-radius: 1px" class="btn btn-info btn-sm"
                                title="Add new Medicine" (click)="AddMedicine(2)" value="+" /></td><td style="padding-left: 2px"><input type="button" style="border-radius: 1px" title="Delete Medicine"
                                class="btn btn-danger btn-sm" (click)="RemoveMedicine(i,2)" value="X" /></td></tr></div></div> -->
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12" *ngIf="!fromClinical" style="
                margin-top: 50px !important;
                margin-bottom: 50px !important;
              ">
                            <input style="width: 200px; height: 35px; margin-right: 30px; float: right;"
                                   class="btn blue" type="button" (click)="Save()" *ngIf="!update" value="Save" />
                            <input style="width: 200px;height: 35px;margin-right: 30px;float: right;" class="btn blue"
                                   type="button" (click)="Update()" *ngIf="update" value="Update" />
                            <input style="width: 200px;height: 35px;margin-right: 30px;float: right;" class="btn blue"
                                   type="button" (click)="SubmitAndViewSummary()" *ngIf="update"
                                   value="Submit and Print Summary" />
                        </div>
                        <!--Baby Details Starts Here-->
                        <!--<div class="col-md-12" *ngIf="DeliveryType"
       (focusout)="focusOut()"><span style="padding-left: 15px;"><b>Baby Details</b></span><br><div class="form-group"><div class="col-md-7"><label class="control-label col-md-5">Fathers Name<b class="color-red">*</b><b>:</b>&nbsp;&nbsp;&nbsp;&nbsp;</label><input type="text" class="form-control" formControlName="BabysFathersName" max="20"
               [(ngModel)]="CurrentDischargeSummary.BabysFathersName" style="width:200px;"
               placeholder="Fathers Name"
               name="BabysFathersName" /></div></div><div class="form-group"><div class="col-md-7"><label class="control-label col-md-5">No of babies<b class="color-red">*</b><b>:</b>&nbsp;&nbsp;&nbsp;&nbsp;</label><input type="number" class="form-control" [(ngModel)]="NoOfBabies" style="width:200px;"
               [ngModelOptions]="{standalone: true}" placeholder="NoOfBabies" min="1"
               name="NoOfBabies" (ngModelChange)="onChangeNumber()"></div></div><br><div *ngIf="showBabyDetails" style="padding-top: 5px;" class="col-md-12"><table class="table-bordered" style="width:100%"><tr><td style="padding-left: 5px;">Certificate No.</td><td style="padding-left: 5px;">Sex</td><td style="padding-left: 5px;">Weight(grams)</td><td style="padding-left: 5px;">BirthDate</td><td style="padding-left: 5px;">BirthTime</td></tr><tr *ngFor="let baby of CurrentDischargeSummary.BabyBirthDetails;let i=index"><td class="form-group"><label title="Autogenerated Certificate No" class="form-control" max="10" style="width:180px;overflow: hidden;">{{baby.CertificateNumber}}</label></td><td class="form-group" style="padding-left: 5px;"><form [formGroup]="baby.BabyBirthDetailsValidator"><select class="form-control" formControlName="Sex" [(ngModel)]="baby.Sex" placeholder="Sex" style="width:100px;height: 33px;" title="select baby's sex"><option value="Male" selected>Male</option><option value="Female">Female</option><option value="Other">Other</option></select><span class="color-red" *ngIf="baby.IsDirty('Sex')"
                    [hidden]="baby.IsValidCheck('Sex','required')">Required</span></form></td><td class="form-group" style="padding-left: 5px;"><form [formGroup]="baby.BabyBirthDetailsValidator"><input type="number" class="form-control" formControlName="WeightOfBaby" step="100" max="10000" [(ngModel)]="baby.WeightOfBaby" style="width:100px;"
                     placeholder="WeightOfBaby"
                     name="WeightOfBaby" /><span class="color-red" *ngIf="baby.IsDirty('WeightOfBaby')"
                    [hidden]="baby.IsValidCheck('WeightOfBaby','required')">Required</span></form></td><td style="padding-left: 5px;"><form [formGroup]="baby.BabyBirthDetailsValidator"><input type="date" class="form-control" max="100" formControlName="BirthDate" [(ngModel)]="baby.BirthDate" style="width:150px;"
                     placeholder="BirthDate"
                     name="BirthDate" /><span class="color-red" *ngIf="baby.IsDirty('BirthDate')"
                    [hidden]="baby.IsValidCheck('BirthDate','required')">Required</span></form></td><td style="padding-left: 5px;"><form [formGroup]="baby.BabyBirthDetailsValidator"><input type="time" max="100" class="form-control" formControlName="BirthTime" [(ngModel)]="baby.BirthTime" style="width:140px;"
                     placeholder="BirthTime"
                     name="BirthTime" /><span class="color-red" *ngIf="baby.IsDirty('BirthTime')"
                    [hidden]="baby.IsValidCheck('BirthTime','required')">Required</span></form></td></tr></table></div></div>-->
                        <!--Baby Details Ends Here-->
                    </div>
                </div>
            </div>
        </div>
    </form>
    <!--Model Box Starting Here-->
    <div class="popup-static portlet box portlet-fullscreen" *ngIf="showUnpaidPopupBox">
        <div class="portlet-body form">
            <!--Model Box Body Start-->
            <div class="form-body">
                <div class="col-md-12">
                    <div class="col-md-2 hidden-xs hidden-sm" style="margin-right: 24px"></div>
                    <div class="col-md-7 col-sm-12 col-xs-12 modelbox-div" style="margin-right: 24px">
                        <div class="col-md-12">
                            <b>
                                <u style="color: #bd8111"> Alert ! This patient has unpaid bills, Please clear them and
                                    proceed to discharge. </u>
                                <br />
                                <button type="button" class="btn btn-primary btn-sm" (click)="Close()"> OK </button>
                            </b>
                            <hr />
                        </div>
                        <br />
                        <div class="col-md-12" style="padding-bottom: 18px">
                            <b>Proceed with pending bills ? </b>
                            <br /> Remarks *: <textarea class="form-control" maxlength="100"
                                      [(ngModel)]="admission.DischargeRemarks" placeholder="Remarks"></textarea>
                            <br />
                            <div class="color-red" *ngIf="!admission.DischargeRemarks"> DischargeRemarks is mandatory.
                            </div>
                            <button type="button" class="btn btn-primary btn-sm" (click)="DischargeWithPendingBills()">
                                Discharge Anyway </button>
                        </div>
                    </div>
                    <!--<div class="col-md-2 hidden-xs hidden-sm" style="margin-right: 24px;"></div>-->
                </div>
            </div>
            <!--Model Box Body End-->
        </div>
    </div>
    <!--Model Box End Here-->
</div>
<!--Show DischargeSummaryAdd End-->
<!--Birth Certificate Start-->
<!--<div *ngIf="showBirthCertificate" style="padding: 90px;margin-top: -110px;"><button class="btn btn-primary btn-sm" (click)="CloseEditReport()"><i class="fa fa-backward"></i>&nbsp;&nbsp;&nbsp;Back To Discharge Summary Report
  </button><generate-birth-certificate [showBirthCertificate]="showBirthCertificate" [selectedBaby]="selectedBaby" [CurrentDischargeSummary]="CurrentDischargeSummary"></generate-birth-certificate></div>-->
<!--Birth Certificate End-->
<!--Death Certificate Start-->
<!--<div *ngIf="showDeathCertificate" style="padding: 90px;margin-top: -110px;"><button class="btn btn-primary btn-sm" (click)="CloseEditReport()"><i class="fa fa-backward"></i>&nbsp;&nbsp;&nbsp;Back To Discharge Summary Report
  </button><generate-death-certificate [showDeathCertificatfe]="showDeathCertificate" [selectedPatient]="selectedDischarge" [CurrentDischargeSummary]="CurrentDischargeSummary"></generate-death-certificate></div>-->
<!--Death Certificate End-->
<!-- Start: Choose Popup for Show Test with Result  -->
<div class="popup-static portlet box portlet-fullscreen custom_modal" *ngIf="showChooseTestResultPopup">
    <div class="portlet-body form">
        <div class="row">
            <div class="col-md-8 col-md-offset-2">
                <div class="col-md-6 col-md-offset-3">
                    <div class="modelbox-div clearfix">
                        <a class="btn btn-danger del-btn" (click)="showChooseTestResultPopup=false;">X</a>
                        <div class="form-body">
                            <p>Click the Components to show the results on report</p>
                            <ul class="list-group">
                                <li class="list-group-item" style="text-align: right;">
                                    <input type="checkbox" (change)="LabTestsSelectUnselectALL()"
                                           [(ngModel)]="selectUnselectAllLabTests" name="list_name" value="true" />
                                    <strong>Select All</strong>
                                </li>
                            </ul>
                            <ul>
                                <li *ngFor="let tst of labRequests;let i=index;">
                                    <label [attr.for]="i+'lbtest'"
                                           style="background-color: #f1f1f1; padding: 10px 15px; border-radius: 5px !important;">
                                        {{tst.TestName}} &nbsp;&nbsp; <span
                                              *ngIf="(tst.labComponents && tst.labComponents.length == 1)">
                                            <i *ngFor="let cmpt of tst.labComponents; let ci= index;"> {{cmpt.Value}}
                                                &nbsp;&nbsp; {{cmpt.Unit}}</i>
                                        </span>
                                        <input class="zoomcheckbox" [(ngModel)]="tst.IsSelectTest" name="IsSelected"
                                               width="100" type="checkbox" [id]="i+'lbtest'"
                                               ng-checked="tst.IsSelectTest=true" (change)="LabTestSelection(i)"
                                               [ngModelOptions]="{standalone: true}" />
                                        <div class="clearfix"></div>
                                    </label>
                                    <ul *ngIf="(tst.labComponents && tst.labComponents.length > 1)">
                                        <li *ngFor="let cmpt of tst.labComponents; let ci= index;">
                                            <label
                                                   [attr.for]="cmpt.TestComponentResultId+'lbtestCmpt'">{{cmpt.ComponentName}}
                                                &nbsp;&nbsp; <span>{{cmpt.Value}}</span> &nbsp;
                                                <span>{{cmpt.Unit}}</span> &nbsp;&nbsp; <input class="zoomcheckbox"
                                                       [(ngModel)]="cmpt.IsCmptSelected" name="IsCmptSelected" width="100"
                                                       [id]="cmpt.TestComponentResultId+'lbtestCmpt'" type="checkbox"
                                                       ng-checked="cmpt.IsCmptSelected=true"
                                                       (change)="LabTestComponentSelection(i,ci,cmpt.ComponentName)"
                                                       [ngModelOptions]="{standalone: true}" />
                                            </label>
                                            <!-- (change)="LabTestComponentSelection(i,ci,cmpt.ComponentName)" -->
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                        <div class="panel-footer text-right">
                            <input class="btn btn-primary" type="button" value="OK"
                                   (click)="showChooseTestResultPopup=false;">
                        </div>
                    </div>
                    <!-- End: Choose Popup for Show Test with Result  -->